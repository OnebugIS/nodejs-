<!DOCTYPE html>
<html>
<!-- 此时登录页面 从register.ejs复制过来  改完后要记得在appjs处注册 -->
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />

    <script type="text/javascript" src="/javascripts/xheditor/jquery/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="/javascripts/xheditor/xheditor-1.2.2.min.js"></script>
    <script type="text/javascript" src="/javascripts/xheditor/xheditor_lang/zh-cn.js"></script>


    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.css">
    <script type="text/javascript" src="/bootstrap/js/jquery-1.11.0.js"></script>
    <script type="text/javascript" src="/bootstrap/js/bootstrap.js"></script>
  </head>
  <body>
    <%- include("./header.ejs",{title:'title',isShow:false})%><!-- //做的公用头 引用的公用头 错点：不要忘记加逗号ejs",{-   isShow:false这个注册页面要不要显示-->

    <div class="container"><!-- container这个标签让表单左右有空间 -->
    <!-- 以下是从bootstrap网 全局css下的表单代码 ctrl+shift+v键使得复制的格式化 -->

    <!-- enctype默认的是post的'  Content-Type':'application/x-www-from-urlencoded'格式  适用于key value的格式提交
        
        文件file的提交使用multipart/form-data属性值 文件再大也是分段分段提交 就需要浏览器支持分段提交 后端要能接收一段一段的东西
    -->

      <%if(isNew){%>

    	<form method="post" action="/article" enctype="multipart/form-data"><!-- 数据以post的方式 -->
    	  <!-- <div class="form-group">
    	    <label for="exampleInputEmail1">昵称</label>
    	    <input type="text" class="form-control" name="username" placeholder="昵称">
    	  </div>    登录用邮箱进行登录-->
          <div class="form-group">
            <label for="exampleInputEmail1">标题</label>
            <input type="text" class="form-control" name="title" placeholder="title">
          </div>
          <div class="form-group">
            <label for="exampleInputEmail1">摘要</label>
            <input type="text" class="form-control" name="abstract" placeholder="title">
          </div>
    	  <div class="form-group">
    	    <label for="exampleInputPassword1">内容</label>
    	    <textarea class="form-control xheditor" rows="6" name="content"></textarea>
    	  </div>


    	  <div class="form-group">
          <!-- 上传图片是有前端提供标签 后端提供接口 将图片的路径存放在数据库 图片的文件夹放服务器的文件夹里 使用的依然是同一个数据库 页面再显示照片时使用照片的数据库路径即可 

            引入第三方插件 multer
          -->
    	    <label for="exampleInputFile">上传图片</label>
    	    <input type="file" name="chenzhenphoto">
    	  </div>
    	  <button type="submit" class="btn btn-default">发表</button>


        <%} else {%>

        <form method="post" action="/article/fixed" ><!-- 数据以post的方式 -->
        <!-- <div class="form-group">
          <label for="exampleInputEmail1">昵称</label>
          <input type="text" class="form-control" name="username" placeholder="昵称">
        </div>    登录用邮箱进行登录-->
          <div class="form-group">
            <label for="exampleInputEmail1">标题</label>
            <input type="text" class="form-control" id="exampleInputEmail1" name="title" placeholder="title" value="<%= info.title%>">
          </div>
          <div class="form-group">
            <label for="exampleInputEmail1">摘要</label>
            <input type="text" class="form-control" name="abstract" placeholder="title" value="<%= info.abstract%>">
          </div>
        <div class="form-group">
          <label for="exampleInputPassword1">内容</label>
          <textarea class="form-control xheditor" rows="6" name="content" ><%= info.content%></textarea>
        </div>
        <!-- <div class="form-group"> -->
          <!-- 上传图片是有前端提供标签 后端提供接口 将图片的路径存放在数据库 图片的文件夹放服务器的文件夹里 使用的依然是同一个数据库 页面再显示照片时使用照片的数据库路径即可 

            引入第三方插件 multer
          -->
          <!-- <label for="exampleInputFile">上传图片</label>
          <input type="file" name="chenzhenphoto">
        </div> -->

         <input type="hidden" value="<%= info._id%>" name="id"/>

        <button type="submit" class="btn btn-default">更新</button>

    	</form>


      <%}%>


    </div>
  </body>
</html>
